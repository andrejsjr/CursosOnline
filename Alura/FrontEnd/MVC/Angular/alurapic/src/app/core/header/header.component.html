<header class="fixed-top">
    <nav class="navbar navbar-light bg-white">
        <a class="navbar-brand">ALURAPIC</a>

        <!-- 
            Com o pipe async o Angular obtém o valor da emissão 
            do observable e aplica direto no template. 
            É como se o subscribe em user$ ocorresse no próprio template.
            O valor da emissão pode ser guardado através de as... (as user).
            
            O próprio Angular também se encarrega, nesse caso,
            de destruir o Subject ou BehaviorSubject (unsubscribe()).
        -->        
        <div *ngIf="(user$ | async) as user; else login">
            <i class="fa fa-user-circle mr-1"></i>
            <a class="mr-1">{{ user.name }}</a>
            <a (click)="logout()">(logout)</a>
        </div>

        <ng-template #login>
            <span class="navbar-text">
                <!-- Faz a aplicação ser recarregada toda do zero novamente. -->
                <!-- <a href="/">Please, login!</a> -->
                
                <!--
                    Com a diretiva routerLink, fazemos a navegação programática
                    sem recarregamentos.
                    A sintaxe é a mesma do router.Navigate().
                -->
                <a [routerLink]="['']">Please, login!</a>
            </span>
        </ng-template>
    </nav>
</header>